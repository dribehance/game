angular.module("Game",["ngRoute","LocalStorageModule","timer"]).config(["$routeProvider","$httpProvider","$locationProvider","localStorageServiceProvider","config",function(e,t,o,n,r){angular.forEach(r.interceptor,function(t){var o=t.replace(/_[a-z]/g,function(e){return e.split("_")[1].toUpperCase()});o+="Controller",e.when("/"+t,{templateUrl:"templates/"+t+".html",reloadOnSearch:!1,controller:o,resolve:{user:["$q","$location","localStorageService",function(e,o,n){var r=["account"],a=e.defer();return r.includes(t)&&!n.get("token")?(a.reject(),o.path("/signin").replace(),void 0):(a.resolve(),a.promise)}]}})}),e.otherwise("/index"),t.defaults.useXDomain=!0,t.defaults.withCredentials=!0,delete t.defaults.headers.common["X-Requested-With"],n.setStorageCookie(.02),t.interceptors.push("tokenInterceptor")}]).run(["appServices",function(e){e.init()}]),angular.module("Game").factory("utilServices",["$q",function(e){var t=function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var o=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return new Blob([n],{type:o})},o=function(o){var n=e.defer(),r=document.createElement("img");try{var a=new FileReader;a.onload=function(e){r.src=e.target.result;var o=document.createElement("canvas"),a=o.getContext("2d");a.drawImage(r,0,0);var i=500,s=500,u=r.width,c=r.height;u>c?u>i&&(c*=i/u,u=i):c>s&&(u*=s/c,c=s),o.width=u,o.height=c;var a=o.getContext("2d");a.drawImage(r,0,0,u,c);var l=o.toDataURL("image/jpeg"),g=t(l);n.resolve(g)},a.readAsDataURL(o)}catch(i){n.resolve(i)}return n.promise};return{resizeFile:o}}]),angular.module("Game").factory("userServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,t,o,n,r){return{rsa_key:o._get(angular.extend({},r.common_params,{url:"key/private_key.pem"})),signin:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/Login"})),signup:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/RegistTel"})),forget:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/ResetPassword"})),modify_password:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/SetPassword",token:n.get("token")})),modify_trade_password:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/setTradePassword",token:n.get("token")})),reset:o._get(angular.extend({},r.common_params,{url:r.url+"api_url"})),get_smscode:o._get(angular.extend({},r.common_params,{url:r.url+"api_url"})),query_basicinfo:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/userBaseInfo",token:n.get("token")})),sync:function(){var t=this;t.query_basicinfo().then(function(o){o.code==r.request.SUCCESS&&o.status==r.response.SUCCESS?(e.user=void 0,e.user=angular.extend({},e.user,o.Result.UserInfo)):t.logout()})},logout:function(){e.user={},n.remove("token")},realname_authen:o._get(angular.extend({},r.common_params,{url:r.url+"api_url",token:n.get("token")})),phone_authen:o._get(angular.extend({},r.common_params,{url:r.url+"api_url",token:n.get("token")})),query_feiting:o._get(angular.extend({},r.common_params,{url:r.url+"/app/XyftManage/xyftOut",token:n.get("token")})),query_feiting_history:o._get(angular.extend({},r.common_params,{url:r.url+"/app/XyftManage/xyftList",token:n.get("token")})),query_peilv:o._get(angular.extend({},r.common_params,{url:r.url+"/app/XyftManage/oddsList"})),betting:o._get(angular.extend({},r.common_params,{url:r.url+"/app/XyftManage/buyGame",token:n.get("token")})),query_saiche:o._get(angular.extend({},r.common_params,{url:r.url+"/app/BjpksManage/bjpksOut",token:n.get("token")})),query_saiche_history:o._get(angular.extend({},r.common_params,{url:r.url+"/app/BjpksManage/bjpksList",token:n.get("token")})),query_kuaile:o._get(angular.extend({},r.common_params,{url:r.url+"/app/Gdkl10Manage/gdkl10Out",token:n.get("token")})),query_kuaile_history:o._get(angular.extend({},r.common_params,{url:r.url+"/app/Gdkl10Manage/gdkl10List",token:n.get("token")})),query_kuaile_peilv:o._get(angular.extend({},r.common_params,{url:r.url+"/app/Gdkl10Manage/oddsGdkl10List"})),betting_kuaile:o._get(angular.extend({},r.common_params,{url:r.url+"/app/Gdkl10Manage/buyGdkl10Game",token:n.get("token")})),query_liuhecai:o._get(angular.extend({},r.common_params,{url:r.url+"/app/XglhcManage/xglhcOut",token:n.get("token")})),query_liuhecai_history:o._get(angular.extend({},r.common_params,{url:r.url+"/app/XglhcManage/xglhcList",token:n.get("token")})),query_messages:o._get(angular.extend({},r.common_params,{url:r.url+"api_url",token:n.get("token")})),query_message_by_id:o._get(angular.extend({},r.common_params,{url:r.url+"api_url",token:n.get("token")})),query_constant_info:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/baseInfo",token:n.get("token")})),charge:o._get(angular.extend({},r.common_params,{url:r.url+"/app/ChargeLogs/chargeMoney",token:n.get("token")})),withdraw:o._get(angular.extend({},r.common_params,{url:r.url+"/app/ChargeLogs/getMoney",token:n.get("token")})),query_bills:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/fundList",token:n.get("token")})),query_recommandors:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/recommendList",token:n.get("token")})),query_orders:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/buyGameLogList",token:n.get("token")}))}}]),angular.module("Game").factory("tokenInterceptor",["$location","$q","$timeout","localStorageService","errorServices","config",function(e,t,o,n,r,a){return{request:function(e){return e},requestError:function(){},response:function(i){var s=t.defer();return i.config.url.indexOf(".html")>0?i:i.data.code==a.request.TOKEN_INVALID?(console.log("TOKEN_INVALID"),n.remove("token"),r.autoHide("请先登录"),o(function(){e.path("/signin").replace()},500),s.promise):i},responseError:function(e){var o=t.defer();return r.requestError(e.data,e.status,e.headers,e.config),o.promise}}}]),angular.module("Game").factory("toastServices",function(){return{show:function(){$(".toast").show()},hide:function(){$(".toast").hide()},start:function(){NProgress.start()},done:function(){NProgress.done()}}}),angular.module("Game").factory("gameServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,t,o,n,r){return{query_banner:o._get(angular.extend({},r.common_params,{url:r.url+"/app/IndexBannerManage/homeBanner"}))}}]),angular.module("Game").factory("gameExternalServices",["$http","userServices","apiServices","localStorageService","config",function($http,userServices,apiServices,localStorageService,config){return{config:function(){var e=this,t=["北京赛车","幸运飞艇"],o=["冠军","亚军","季军"],n=["单","双","大","小"];angular.forEach(t,function(){angular.forEach(o,function(){angular.forEach(n,function(){e.query_trend_by_type()})})})},auto_betting:function(){},query_gains_from_time:function(time,game,type,betting_type){return userServices.query_orders({pn:1,page_size:1e3}).then(function(data){if(data.code==config.request.SUCCESS&&data.status==config.response.SUCCESS){var orders=data.Result.BuyGameLogList.list,gain=eval(orders.filter(function(e){return e.game_name==game&&e.type_name_01==type&&e.type_name_02==betting_type&&e.post_time>time}).map(function(e){return e.backmoney}).join("+"));return gain||0}errorServices.autoHide(data.message)})},query_trend_by_type:function(game,type,betting_type,repeat_time){var statistics=[],counter=0,temp=[],last,current,condition={"单":" % 2 != 0","双":" % 2 == 0","大":" > 5","小":" < 6"};return userServices.query_saiche_history({pn:1,page_size:1e3}).then(function(data){if(data.code==config.request.SUCCESS&&data.status==config.response.SUCCESS){var trends=data.Result.BjpksDataList.list;return angular.forEach(trends,function(trend,index){current=trend;var condition_str=current.n_01+condition[betting_type];return eval(condition_str)&&(current.open_type=betting_type),last&&current.open_type&&current.open_type==last.open_type?(temp.push(current),last=current,void 0):(temp.length>0&&statistics.push({name:"冠军连续"+betting_type,counter:temp.length,date:temp[temp.length-1].datelinedate,span:temp[temp.length-1].qishu+"-"+temp[0].qishu,data:temp}),last=current,temp=[current],void 0)}),statistics.filter(function(e){return e.counter>repeat_time-1})}errorServices.autoHide(data.message)})}}}]),angular.module("Game").factory("facebookServices",["$rootScope","$route","$http","$window","$location","$q","userServices","toastServices","errorServices","localStorageService","config",function(e,t,o,n,r,a,i,s,u,c,l){return n.fbAsyncInit=function(){var e=n.FB||void 0;e&&e.init({appId:"217442991983314",xfbml:!0,version:"v2.6"})},{share:function(e){var o=n.FB||void 0;o&&o.ui({method:"feed",link:e||l.share.link,redirect_uri:e||l.share.link,caption:l.share.title},function(){t.reload()})},login:function(){var e=a.defer(),t=this;return t._facebook_connected().then(function(e){return e}).then(function(){t._query_facebook_user_info().then(function(t){e.resolve(t)})}),e.promise},logout:function(){var e=n.FB||void 0;e&&e.logout(function(){})},_facebook_connected:function(){var e=a.defer(),t=n.FB||void 0;return t?(s.show(),t.login(function(t){s.hide(),"connected"==t.status?e.resolve(t):e.reject("_facebook_connected occured")},{scope:"public_profile,email"}),e.promise):void 0},_query_facebook_user_info:function(){var e=a.defer(),t=n.FB||void 0;return t?(t.api("/me",{fields:"id,email,name,picture,gender,last_name"},function(t){!t||t.error?e.reject("_query_facebook_user_info error occured"):e.resolve(t)}),e.promise):void 0}}}]),angular.module("Game").factory("errorServices",["$rootScope","$timeout","toastServices",function(e,t,o){return{show:function(t){e.error_msg=t,$(".error-msg").show()},hide:function(){e.error_msg="",$(".error-msg").hide()},autoHide:function(o){e.error_msg=o,$(".error-msg").show(),t(function(){e.error_msg="",$(".error-msg").hide()},3e3)},requestError:function(e,t,n,r){switch(o.hide(),t){case 0:this.autoHide("连接超时");break;case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 509:case 510:this.autoHide("服务器连接出错")}console.log("onRequestError output status, data, headers, config"),console.log(t),console.log(e),console.log(n),console.log(r),console.log("onRequestError end")}}}]),angular.module("Game").factory("appServices",["$rootScope","$window","$location","userServices","localStorageService","errorServices","toastServices","config",function(e,t,o,n,r,a,i,s){var u=function(){},c=function(e,t,o){i.hide(),a.hide(),g(e,t,o)},l=function(){},g=function(){};return{init:function(){e.$on("$routeChangeStart",u),e.$on("$routeChangeSuccess",c),e.$on("$routeChangeError",l),e.go=function(e){o.path(e)},e.back=function(){t.history.back()},e.staticImageUrl=s.imageUrl,r.get("token")&&n.sync()}}}]),angular.module("Game").factory("apiServices",["$http","localStorageService",function(e,t){return{_get:function(o){return function(n){return void 0!==o.token&&(o.token=t.get("token")),e({url:o.url,method:"GET",params:angular.extend({},o,n)}).then(function(e){return e.data})}},_post:function(o){return function(n){return void 0!==o.token&&(o.token=t.get("token")),e({url:o.url,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var o in e)t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")},data:angular.extend({},o,n)}).then(function(e){return e.data})}}}}]),angular.module("Game").directive("onRepeatDone",function(){return{restrict:"A",link:function(e,t){e.$last&&e.$emit("onRepeatDone",t)}}}),angular.module("Game").directive("onload",function(){return{restrict:"A",link:function(e,t){$(t).css({opacity:0}),$(t).bind("load",function(){$(t).css({opacity:1})})}}}),angular.module("Game").directive("mobilepicker",["$timeout",function(e){return{restrict:"E",scope:{options:"="},template:"<input type='text' name='picker' readonly ng-model='options.value'>",link:function(t,o){var n={beginyear:1950,endyear:(new Date).getFullYear(),days:["周日","周一","周二","周三","周四","周五","周六"],curdate:!1,theme:"date",event:"click",callBack:function(e){t.options.value=e.y+"-"+e.M+"-"+e.d}};e(function(){$(o).find("input").datePicker(angular.extend({},n,t.options))},0)}}}]),angular.module("Game").directive("imageview",["$timeout",function(e){return{restrict:"E",scope:{src:"="},controller:["$scope","$element","$attrs",function(t,o,n){function r(e){$(e.target).css({width:"auto",height:"auto"});var o=$(e.target),n=o.width(),r=o.height(),a=parseFloat(n)/parseFloat(r);a<t.rate?(n=t.width,r=t.width/a,o.css({display:"inline-block",height:r,width:n,"margin-top":-(r-t.height)/2})):(r=t.height,n=r*a,o.css({display:"inline-block",height:r,width:n,"margin-left":-(n-t.width)/2})),o.parent().css({background:"none"}),o.css({visibility:"visible"})}function a(e){var o=$(e.target),n=o.width(),r=o.height(),a=parseFloat(n)/parseFloat(r);a<t.rate?o.css({display:"inline-block",height:"100%",width:"auto"}):o.css({display:"inline-block",height:"auto",width:"100%"}),o.parent().css({background:"none"}),o.css({visibility:"visible"})}return t.bg_image="../images/default.png",t.rate=parseFloat(t.$eval(n.rate)),t.width=o.parent().width()||$(window).width(),t.height=t.width/t.rate,t.rate?(this.show_center_on_loaded=function(t){r(t),e(function(){r(t)},100)},this.show_on_loaded=function(t){a(t),e(function(){a(t)},100)},void 0):(console.log("unexpect rate"),void 0)}],template:function(e){var t="<img ng-src='{{src}}' show-center-on-loaded err-src='../images/default.png'>";return void 0==$(e).attr("center-only")&&(t="<img ng-src='{{src}}' show-on-loaded err-src='../images/default.png'>"),t},link:function(e,t){var o={display:"block",width:e.width,overflow:"hidden","text-align":"center","background-image":"url("+e.bg_image+")","background-position":"center center","background-repeat":"no-repeat",height:e.height,overflow:"hidden"};$(t).css(o)}}}]).directive("showOnLoaded",function(){return{restrict:"A",require:"^imageview",link:function(e,t,o,n){t.bind("load",n.show_on_loaded)}}}).directive("showCenterOnLoaded",function(){return{restrict:"A",require:"^imageview",link:function(e,t,o,n){t.bind("load",n.show_center_on_loaded)}}}),angular.module("Game").directive("dribehanceHeader",["$rootScope",function(e){return{restrict:"E",templateUrl:"templates/header.html",scope:{title:"=",backAction:"="},link:function(t){t.back=function(){e.back()}}}}]),angular.module("Game").directive("dribehanceFooter",function(){return{restrict:"E",templateUrl:"templates/footer.html",scope:{active:"="},link:function(){}}}),angular.module("Game").directive("errSrc",function(){return{restrict:"A",link:function(e,t,o){$(t).bind("error",function(){$(t).attr("src",o.errSrc)})}}}),angular.module("Game").directive("countdown",["$interval",function(e){return{restrict:"E",scope:{countdown:"=",disabled:"=countdownDisabled"},link:function(t,o){function n(){var o=t.countdown.message,n=parseFloat(t.countdown.count)?parseFloat(t.countdown.count):60;r=!0,t.$apply(function(){t.countdown.message=n--,t.countdown.message=n+"s重新获取",t.countdown.mode="disabled",t.countdown.reset=!1,t.countdown.callback()});var a=e(function(){t.countdown.message=n--,t.countdown.message=n+"s重新获取",(0>n||t.countdown.reset)&&(e.cancel(a),t.countdown.message=o,r=!1)},1e3)}var r=!1;$(o).bind("click",function(){t.disabled||r||n()})}}}]),angular.module("Game").directive("confirm",function(){return{restrict:"E",scope:{confirm:"="},templateUrl:"templates/confirm.html",link:function(e,t){e.confirm=angular.extend({},{title:"Tips",content:"Are You Sure?",content_type:"content",open:function(){$(t).show()},cancel:function(){$(t).hide(),"function"==typeof e.confirm.cancle_callback&&e.confirm.cancle_callback()},ok:function(){$(t).hide(),"function"==typeof e.confirm.ok_callback&&(e.confirm.ok_callback(),e.confirm.content_type="content")}},e.confirm)}}}),angular.module("Game").directive("banner",function(){return{restrict:"E",transclude:!0,template:"<div class='carousel-holder owl-carousel theme' ng-transclude></div>",link:function(e,t){var o={autoplay:!0,items:1};o=angular.extend({},o,e.$eval($(t).attr("data-options")));var n=parseFloat(e.$eval($(t).attr("data-rate"))),r={display:"block",width:$(t).parent().width()||$(window).width(),height:($(t).parent().width()||$(window).width())/n};$(t).css(r),e.$on("onRepeatDone",function(){$(t).find(".carousel-holder").owlCarousel(o)})}}}),angular.module("Game").controller("signupController",["$scope","$rootScope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a,i,s,u){e.input={},e.ajaxForm=function(){return e.input.password_1!=e.input.password_2?(a.autoHide("两次登录密码不一致"),void 0):e.input.password_3!=e.input.password_4?(a.autoHide("两次提现密码不一致"),void 0):(i.show(),r.signup({nickname:e.input.nickname,password:e.input.password_1,name:e.input.realname,telephone:e.input.telephone,trade_password:e.input.password_3,invited_code:e.input.code}).then(function(e){i.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?(t.user=e.user,s.set("token",e.user.token),a.autoHide(e.message),o(function(){n.path("index").replace()},2e3)):a.autoHide(e.message)}),void 0)}}]),angular.module("Game").controller("signinController",["$scope","$rootScope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a,i,s,u){e.input={},e.ajaxForm=function(){i.show(),r.signin({nickname:e.input.nickname,password:e.input.password}).then(function(e){i.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?(t.user=e.user,s.set("token",e.user.token),a.autoHide(e.message),o(function(){n.path("index").replace()},2e3)):a.autoHide(e.message)})}}]),angular.module("Game").controller("saicheController",["$scope","$route","$rootScope","$timeout","$interval","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a,i,s,u,c){e.saiche={},e.saiche.waiting=!1,e.query_saiche=function(){a.query_saiche().then(function(t){return t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?e.saiche=t:i.autoHide(t.message),e.saiche.waiting?(n(function(){e.saiche.day_seconds="",e.query_saiche()},5e3),void 0):(e.reload_saiche_history(),void 0)})},e.query_saiche(),e.saiche_historys=[],e.page={pn:1,page_size:20,message:"点击加载更多"},e.loadMore=function(){e.no_more||(s.show(),e.page.message="正在加载...",a.query_saiche_history(e.page).then(function(t){s.hide(),e.page.message="点击加载更多",e.is_reload&&(e.saiche_historys=[],e.is_reload=!1),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?(e.saiche_historys=e.saiche_historys.concat(t.Result.BjpksDataList.list),e.no_more=e.saiche_historys.length==t.Result.BjpksDataList.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.reload_saiche_history=function(){e.page={pn:1,page_size:20,message:"点击加载更多"},e.is_reload=!0,e.no_more=!1,e.loadMore()},e.callbackTimer={},e.callbackTimer.finished=function(){e.query_saiche()},e.refresh=function(){t.reload()}}]),angular.module("Game").controller("recommandorsController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a){t.sync(),e.recommandors=[],e.page={pn:1,page_size:1,message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",t.query_recommandors(e.page).then(function(t){n.hide(),e.page.message="点击加载更多",t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?(e.recommandors=e.recommandors.concat(t.Result.RecommendList.list),e.no_more=e.recommandors.length==t.Result.RecommendList.totalRow?!0:!1):o.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore()}]),angular.module("Game").controller("recommandIncomeController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a){t.sync(),e.recommand_incomes=[],e.page={pn:1,page_size:1,message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",t.query_recommandors(e.page).then(function(t){n.hide(),e.page.message="点击加载更多",t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?(e.recommand_incomes=e.recommand_incomes.concat(t.Result.RecommendList.list),e.no_more=e.recommand_incomes.length==t.Result.RecommendList.totalRow?!0:!1):o.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore()}]),angular.module("Game").controller("ordersController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a){e.input={},e.show=function(t){e.show_order=t,e.popup_state="open"},e.close=function(){e.popup_state="close"},e.orders=[],e.page={pn:1,page_size:20,message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",t.query_orders(e.page).then(function(t){n.hide(),e.page.message="点击加载更多",t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?(e.orders=e.orders.concat(t.Result.BuyGameLogList.list),e.no_more=e.orders.length==t.Result.BuyGameLogList.totalRow?!0:!1):o.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore()}]),angular.module("Game").controller("onlineWithdrawController",["$scope","$rootScope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a,i){e.input={},r.show(),o.query_basicinfo().then(function(e){r.hide(),e.code==i.request.SUCCESS&&e.status==i.response.SUCCESS?t.user=angular.extend({},t.user,e.Result.UserInfo):n.autoHide(e.message)}),e.ajaxForm=function(){r.show(),o.withdraw({charge_account:e.input.account,account_name:e.input.pay_account,bank_name:e.input.bank_name,money:e.input.money,trade_password:e.input.password}).then(function(e){r.hide(),e.code==i.request.SUCCESS&&e.status==i.response.SUCCESS?n.autoHide(e.message):n.autoHide(e.message)})}}]),angular.module("Game").controller("onlineChargeController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a){e.input={},n.show(),t.query_constant_info().then(function(t){n.hide(),t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?e.charge_info=t.Constant:o.autoHide(t.message)}),e.ajaxForm=function(){n.show(),t.charge({charge_account:e.input.pay_account,account_name:e.input.account,money:e.input.money}).then(function(t){n.hide(),t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?(o.autoHide(t.message),e.input.pay_account="",e.input.account="",e.input.money=""):o.autoHide(t.message)})}}]),angular.module("Game").controller("myCodeController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a){t.sync(),n.show(),t.query_constant_info().then(function(t){n.hide(),t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?e.constant_info=t.Constant:o.autoHide(t.message)})}]),angular.module("Game").controller("modifyTradePasswordController",["$scope","$rootScope","$location","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a,i,s,u){e.input={},e.ajaxForm=function(){return e.password_1!=e.password_2?(a.autoHide("两次密码不一致"),void 0):(i.show(),r.modify_trade_password({old_trade_password:e.input.password,new_trade_password:e.input.password_1}).then(function(o){i.hide(),o.code==u.request.SUCCESS&&o.status==u.response.SUCCESS?(a.autoHide(o.message),n(function(){t.back()},3e3)):(e.input.password="",e.input.password_1="",e.input.password_2="",a.autoHide(o.message))}),void 0)}}]),angular.module("Game").controller("modifyPasswordController",["$scope","$rootScope","$location","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a,i,s,u){e.input={},e.ajaxForm=function(){return e.password_1!=e.password_2?(a.autoHide("两次密码不一致"),void 0):(i.show(),r.modify_password({old_password:e.input.password,new_password:e.input.password_1}).then(function(o){i.hide(),o.code==u.request.SUCCESS&&o.status==u.response.SUCCESS?(a.autoHide(o.message),n(function(){t.back()},3e3)):(e.input.password="",e.input.password_1="",e.input.password_2="",a.autoHide(o.message))}),void 0)}}]),angular.module("Game").controller("messagesController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Game").controller("meController",["$scope","$rootScope","$location","userServices","gameExternalServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a,i,s,u){i.show(),n.query_basicinfo().then(function(e){i.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?t.user=angular.extend({},t.user,e.Result.UserInfo):a.autoHide(e.message)}),e.logout=function(){t.user={},s.remove("token"),o.path("index").replace()},r.query_trend_by_type("单",7).then(function(e){console.log(e)}),r.query_gains_from_time("2016-12-06 10:14:40","北京赛车","冠军","单").then(function(e){console.log(e)})}]),angular.module("Game").controller("liuhecaiController",["$scope","$route","$rootScope","$timeout","$interval","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a,i,s,u,c){e.liuhecai={},e.liuhecai.waiting=!1,e.query_liuhecai=function(){a.query_liuhecai().then(function(t){return t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?e.liuhecai=t:i.autoHide(t.message),e.liuhecai.waiting?(n(function(){e.liuhecai.day_seconds="",e.query_liuhecai()},5e3),void 0):(e.reload_liuhecai_history(),void 0)})},e.query_liuhecai(),e.liuhecai_historys=[],e.page={pn:1,page_size:20,message:"点击加载更多"},e.loadMore=function(){e.no_more||(s.show(),e.page.message="正在加载...",a.query_liuhecai_history(e.page).then(function(t){s.hide(),e.page.message="点击加载更多",e.is_reload&&(e.liuhecai_historys=[],e.is_reload=!1),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?(e.liuhecai_historys=e.liuhecai_historys.concat(t.Result.XglhcDataList.list),e.no_more=e.liuhecai_historys.length==t.Result.XglhcDataList.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.reload_liuhecai_history=function(){e.page={pn:1,page_size:20,message:"点击加载更多"},e.is_reload=!0,e.no_more=!1,e.loadMore()},e.callbackTimer={},e.callbackTimer.finished=function(){e.query_liuhecai()},e.refresh=function(){t.reload()}}]),angular.module("Game").controller("kuaileController",["$scope","$route","$rootScope","$timeout","$interval","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a,i,s,u,c){e.kuaile={},e.kuaile.waiting=!1,e.query_kuaile=function(){a.query_kuaile().then(function(t){return t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?e.kuaile=t:i.autoHide(t.message),e.kuaile.waiting?(n(function(){e.kuaile.day_seconds="",e.query_kuaile()},5e3),void 0):(e.reload_kuaile_history(),void 0)})},e.query_kuaile(),e.kuaile_historys=[],e.page={pn:1,page_size:20,message:"点击加载更多"},e.loadMore=function(){e.no_more||(s.show(),e.page.message="正在加载...",a.query_kuaile_history(e.page).then(function(t){s.hide(),e.page.message="点击加载更多",e.is_reload&&(e.kuaile_historys=[],e.is_reload=!1),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?(e.kuaile_historys=e.kuaile_historys.concat(t.Result.Gdkl10DataList.list),e.no_more=e.kuaile_historys.length==t.Result.Gdkl10DataList.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.reload_kuaile_history=function(){e.page={pn:1,page_size:20,message:"点击加载更多"},e.is_reload=!0,e.no_more=!1,e.loadMore()},e.callbackTimer={},e.callbackTimer.finished=function(){e.query_kuaile()},e.refresh=function(){t.reload()}}]),angular.module("Game").controller("jiangpinController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Game").controller("indexController",["$scope","$rootScope","$timeout","$location","userServices","errorServices","gameServices","toastServices","localStorageService","config",function(e,t,o,n,r,a,i,s,u,c){s.show(),i.query_banner().then(function(t){s.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?e.banners=t.Result.homeBanner:a.autoHide(t.message)}),e.go=function(e){return u.get("token")?(n.path(e),void 0):(a.autoHide("请先登录"),o(function(){n.path("signin")},3e3),void 0)}}]),angular.module("Game").controller("forgetController",["$scope","$location","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a,i,s){e.input={},e.ajaxForm=function(){return e.password_1!=e.password_2?(r.autoHide("两次密码不一致"),void 0):(a.show(),n.forget({nickname:e.input.nickname,telephone:e.input.telephone,password:e.input.password_1}).then(function(n){a.hide(),n.code==s.request.SUCCESS&&n.status==s.response.SUCCESS?(r.autoHide(n.message),o(function(){t.path("signin").replace()},3e3)):(e.input.nickname="",e.input.telephone="",e.input.password_1="",e.input.password_2="",r.autoHide(n.message))}),void 0)}}]),angular.module("Game").controller("fillinorderSaicheController",["$scope","$timeout","$route","userServices","$interval","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a,i,s,u){e.input={},e.saiche={},e.saiche.waiting=!1,e.query_saiche=function(){n.query_saiche().then(function(o){return o.code==u.request.SUCCESS&&o.status==u.response.SUCCESS?e.saiche=o:a.autoHide(o.message),e.saiche.waiting?(t(function(){e.saiche.day_seconds="",e.query_saiche()},5e3),void 0):void 0})},e.query_saiche(),e.game_type=[{label:"双面",value:"1"},{label:"数字盘",value:"2"}],e.input.game_type=e.game_type[0],e.$watch("input.game_type",function(t){t&&e.query_peilv(2)},!0),e.query_peilv=function(t){i.show(),n.query_peilv({g_type:t,o_type:e.input.game_type.value}).then(function(t){i.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?(e.games=t.Result.OddsBeans,angular.forEach(e.games,function(e){angular.forEach(e.oIndexBeans,function(e){e.betting_money=0,e.betted=!1})})):a.autoHide(t.message)})},e.show=function(t,o){if(!e.saiche.waiting){if(t.betted)return t.betting_money=0,t.betted=!1,void 0;e.popup_state="open",e.input.selected_game_cell=t,e.input.selected_game=o}},e.close=function(){e.popup_state="close"},e.betting=function(){var t=/^[0-9]*$/;e.input.betting_money&&t.test(e.input.betting_money)&&(e.input.selected_game_cell.betting_money=e.input.betting_money,e.input.selected_game_cell.betted=!0,e.popup_state="close")},e.callbackTimer={},e.callbackTimer.finished=function(){e.query_saiche()},e.refresh=function(){o.reload()},e.resetForm=function(){e.saiche.waiting||angular.forEach(e.games,function(e){angular.forEach(e.oIndexBeans,function(e){e.betting_money=0,e.betted=!1})})},e.ajaxForm=function(){if(!e.saiche.waiting){var r="",s=0;angular.forEach(e.games,function(e,t){angular.forEach(e.oIndexBeans,function(e){if(e.betted){var o=t+1;s+=parseFloat(e.betting_money),r+=o+"A"+e.name+"A"+e.betting_money+"A"+e.rate+"#"}})}),r=r.substring(0,r.length-1),i.show(),n.betting({game_type:2,o_type:e.input.game_type.value,total_money:s,n_periods_next:e.saiche.qishu_next,buy_infos:r}).then(function(e){i.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?(a.autoHide(e.message),t(function(){o.reload()},3e3)):a.autoHide(e.message)})}}}]),angular.module("Game").controller("fillinorderLiuhecaiController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Game").controller("fillinorderKuaileController",["$scope","$route","$timeout","$route","userServices","$interval","errorServices","toastServices","localStorageService","config",function(e,t,o,t,n,r,a,i,s,u){e.input={},e.kuaile={},e.kuaile.waiting=!1,e.query_kuaile=function(){n.query_kuaile().then(function(t){return t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?e.kuaile=t:a.autoHide(t.message),e.kuaile.waiting?(o(function(){e.kuaile.day_seconds="",e.query_kuaile()},5e3),void 0):void 0})},e.query_kuaile(),e.game_type=[{label:"双面",value:"1"},{label:"数字盘",value:"2"}],e.input.game_type=e.game_type[0],e.$watch("input.game_type",function(t){t&&e.query_kuaile_peilv(3)
},!0),e.query_kuaile_peilv=function(t){i.show(),n.query_kuaile_peilv({g_type:t,o_type:e.input.game_type.value}).then(function(t){i.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?(e.games=t.Result.OddsGdkl10Beans,angular.forEach(e.games,function(e){angular.forEach(e.oIndexBeans,function(e){e.betting_money=0,e.betted=!1})})):a.autoHide(t.message)})},e.show=function(t,o){if(!e.kuaile.waiting){if(t.betted)return t.betting_money=0,t.betted=!1,void 0;e.popup_state="open",e.input.selected_game_cell=t,e.input.selected_game=o}},e.close=function(){e.popup_state="close"},e.betting=function(){var t=/^[0-9]*$/;e.input.betting_money&&t.test(e.input.betting_money)&&(e.input.selected_game_cell.betting_money=e.input.betting_money,e.input.selected_game_cell.betted=!0,e.popup_state="close")},e.callbackTimer={},e.callbackTimer.finished=function(){e.query_kuaile()},e.refresh=function(){t.reload()},e.resetForm=function(){e.kuaile.waiting||angular.forEach(e.games,function(e){angular.forEach(e.oIndexBeans,function(e){e.betting_money=0,e.betted=!1})})},e.ajaxForm=function(){if(!e.kuaile.waiting){var r="",s=0;angular.forEach(e.games,function(e,t){angular.forEach(e.oIndexBeans,function(e){if(e.betted){var o=t;s+=parseFloat(e.betting_money),r+=o+"A"+e.name+"A"+e.betting_money+"A"+e.rate+"#"}})}),r=r.substring(0,r.length-1),i.show(),n.betting_kuaile({game_type:3,o_type:e.input.game_type.value,total_money:s,n_periods_next:e.kuaile.qishu_str,buy_infos:r}).then(function(e){i.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?(a.autoHide(e.message),o(function(){t.reload()},500)):a.autoHide(e.message)})}}}]),angular.module("Game").controller("fillinorderFeitingController",["$scope","$route","$timeout","$route","userServices","$interval","errorServices","toastServices","localStorageService","config",function(e,t,o,t,n,r,a,i,s,u){e.input={},e.feiting={},e.feiting.waiting=!1,e.query_feiting=function(){n.query_feiting().then(function(t){return t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?e.feiting=t:a.autoHide(t.message),e.feiting.waiting?(o(function(){e.feiting.day_seconds="",e.query_feiting()},5e3),void 0):void 0})},e.query_feiting(),e.game_type=[{label:"双面",value:"1"},{label:"数字盘",value:"2"}],e.input.game_type=e.game_type[0],e.$watch("input.game_type",function(t){t&&e.query_peilv(1)},!0),e.query_peilv=function(t){i.show(),n.query_peilv({g_type:t,o_type:e.input.game_type.value}).then(function(t){i.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?(e.games=t.Result.OddsBeans,angular.forEach(e.games,function(e){angular.forEach(e.oIndexBeans,function(e){e.betting_money=0,e.betted=!1})})):a.autoHide(t.message)})},e.show=function(t,o){if(!e.feiting.waiting){if(t.betted)return t.betting_money=0,t.betted=!1,void 0;e.popup_state="open",e.input.selected_game_cell=t,e.input.selected_game=o}},e.close=function(){e.popup_state="close"},e.betting=function(){var t=/^[0-9]*$/;e.input.betting_money&&t.test(e.input.betting_money)&&(e.input.selected_game_cell.betting_money=e.input.betting_money,e.input.selected_game_cell.betted=!0,e.popup_state="close")},e.callbackTimer={},e.callbackTimer.finished=function(){e.query_feiting()},e.refresh=function(){t.reload()},e.resetForm=function(){e.feiting.waiting||angular.forEach(e.games,function(e){angular.forEach(e.oIndexBeans,function(e){e.betting_money=0,e.betted=!1})})},e.ajaxForm=function(){if(!e.feiting.waiting){var r="",s=0;angular.forEach(e.games,function(e,t){angular.forEach(e.oIndexBeans,function(e){if(e.betted){var o=t+1;s+=parseFloat(e.betting_money),r+=o+"A"+e.name+"A"+e.betting_money+"A"+e.rate+"#"}})}),r=r.substring(0,r.length-1),i.show(),n.betting({game_type:1,o_type:e.input.game_type.value,total_money:s,n_periods_next:e.feiting.qishu_str,buy_infos:r}).then(function(e){i.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?(a.autoHide(e.message),o(function(){t.reload()},500)):a.autoHide(e.message)})}}}]),angular.module("Game").controller("fillinorderController",["$scope","$timeout","$route","$routeParams","userServices","$interval","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a,i,s,u,c){e.input={},e.query_feiting=function(){r.query_feiting().then(function(o){return o.code==c.request.SUCCESS&&o.status==c.response.SUCCESS?e.feiting=o:i.autoHide(o.message),e.feiting.waiting?(t(function(){e.feiting.day_seconds="",e.query_feiting()},5e3),void 0):void 0})},e.query_feiting(),e.game_type=[{label:"双面",value:"1"},{label:"数字盘",value:"2"}],e.input.game_type=e.game_type[0],e.$watch("input.game_type",function(t){t&&e.query_peilv(n.type||1)},!0),e.query_peilv=function(t){s.show(),r.query_peilv({g_type:t,o_type:e.input.game_type.value}).then(function(t){s.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?(e.games=t.Result.OddsBeans,angular.forEach(e.games,function(e){angular.forEach(e.oIndexBeans,function(e){e.betting_money=0,e.betted=!1})})):i.autoHide(t.message)})},e.show=function(t,o){return t.betted?(t.betting_money=0,t.betted=!1,void 0):(e.popup_state="open",e.input.selected_game_cell=t,e.input.selected_game=o,void 0)},e.close=function(){e.popup_state="close"},e.betting=function(){var t=/^[0-9]*$/;e.input.betting_money&&t.test(e.input.betting_money)&&(e.input.selected_game_cell.betting_money=e.input.betting_money,e.input.selected_game_cell.betted=!0,e.popup_state="close")},e.resetForm=function(){angular.forEach(e.games,function(e){angular.forEach(e.oIndexBeans,function(e){e.betting_money=0,e.betted=!1})})},e.ajaxForm=function(){var a="",u=0;angular.forEach(e.games,function(e,t){angular.forEach(e.oIndexBeans,function(e){if(e.betted){var o=t+1;u+=parseFloat(e.betting_money),a+=o+"A"+e.name+"A"+e.betting_money+"A"+e.rate+"#"}})}),a=a.substring(0,a.length-1),s.show(),r.betting({game_type:n.type||1,o_type:e.input.game_type.value,total_money:u,n_periods_next:e.feiting.qishu_next,buy_infos:a}).then(function(e){s.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?(i.autoHide(e.message),t(function(){o.reload()},3e3)):i.autoHide(e.message)})}}]),angular.module("Game").controller("feitingController",["$scope","$route","$rootScope","$timeout","$interval","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a,i,s,u,c){e.feiting={},e.feiting.waiting=!1,e.query_feiting=function(){a.query_feiting().then(function(t){return t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?e.feiting=t:i.autoHide(t.message),e.feiting.waiting?(n(function(){e.feiting.day_seconds="",e.query_feiting()},5e3),void 0):(e.reload_feiting_history(),void 0)})},e.query_feiting(),e.feiting_historys=[],e.page={pn:1,page_size:20,message:"点击加载更多"},e.loadMore=function(){e.no_more||(s.show(),e.page.message="正在加载...",a.query_feiting_history(e.page).then(function(t){s.hide(),e.page.message="点击加载更多",e.is_reload&&(e.feiting_historys=[],e.is_reload=!1),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?(e.feiting_historys=e.feiting_historys.concat(t.Result.XyftDataList.list),e.no_more=e.feiting_historys.length==t.Result.XyftDataList.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.reload_feiting_history=function(){e.page={pn:1,page_size:20,message:"点击加载更多"},e.is_reload=!0,e.no_more=!1,e.loadMore()},e.callbackTimer={},e.callbackTimer.finished=function(){e.query_feiting()},e.refresh=function(){t.reload()}}]),angular.module("Game").controller("exchangeController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.input={},e.input.province="广东省",e.input.city="深圳市",e.input.district="宝安区"}]),angular.module("Game").controller("detailController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Game").controller("contactController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Game").controller("chargeController",["$scope","$rootScope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o){o.sync()}]),angular.module("Game").controller("billsController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,a){e.bills=[],e.page={pn:1,page_size:20,message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",t.query_bills(e.page).then(function(t){n.hide(),e.page.message="点击加载更多",t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?(e.bills=e.bills.concat(t.Result.FundLogList.list),e.no_more=e.bills.length==t.Result.FundLogList.totalRow?!0:!1):o.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.type=["","存款","提现","投注","中奖","推荐收入"],e.get_type=function(t){return e.type[t]}}]),angular.module("Game").constant("config",{url:"http://120.76.41.192:8055",imageUrl:"http://120.76.41.192:8055/files/image?name=",request:{SUCCESS:"200",TOKEN_INVALID:"405"},response:{SUCCESS:1},common_params:{invoke:"h5"},interceptor:["index","feiting","saiche","kuaile","liuhecai","jiangpin","contact","charge","me","bills","recommandors","recommand_income","my_code","forget","modify_password","modify_trade_password","messages","online_charge","online_withdraw","fillinorder","detail","exchange","orders","signin","signup","fillinorder_feiting","fillinorder_saiche","fillinorder_kuaile","fillinorder_liuhecai","config"]});
//# sourceMappingURL=app.min.js.map
